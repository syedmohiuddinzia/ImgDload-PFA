################################################################
################# SYED MOHIUDDIN ZIA ###########################
#################  0092 307 2099300  ###########################
################################################################
from bs4 import BeautifulSoup ##################################
from urllib.request import Request, urlopen ####################
import re ######################################################
import os ######################################################
################################################################
################################################################
################## INITIALIZING SUBSTRING ######################
################################################################
################################################################
#subs = 'young-black-gfs' ###################### /// GALLERY ###
#website = 'https://www.pinkfineart.com' ####### /// WEBSITE ###
#irange = 1 ################################ /// TOTAL PAGES ###
tfile = 'flist.txt' ########################## /// TEXT FILE ###
################################################################
################################################################
subs = os.environ['subs'] ######################################
website = os.environ['website'] ################################
irange = os.environ['irange'] ##################################
#print(subs) ###################################################
#print(website) ################################################
#print(irange) #################################################
irange = int(irange) ###########################################
################################################################
################################################################
################## FOR PAGE 1 - N ##############################
################################################################
linkslist = []
for i in range(irange):
	snum=str(i+1)
	url = website + "/" + subs + '/page/' + snum + '/'
	print(url)

	req = Request(url)
	html_page = urlopen(req)

	soup = BeautifulSoup(html_page, "lxml")

	links = []
	for link in soup.findAll('a'):
    		links.append(link.get('href'))
	#print(links)
	linkslist.extend(links)
print(linkslist)
################################################################
################## FOR RAW LIST ################################
################################################################
flink = [i for i in linkslist if subs in i]
################################################################
################## FOR LIST 'page' #############################
################################################################
subs = 'page'
rlink = [i for i in linkslist if subs in i]
################################################################
################# FOR 'page' NOT IN RAW LIST ###################
################################################################
new = [k for k in flink if k not in rlink]
################################################################
################# FOR FINAL LIST ###############################
new1 = []
new1 = new
for x in range(len(new)) and range(len(new1)):
        new1[x] = website + new[x]
        print(new1[x])
################## FOR IMPORT TO TXT FILE ######################
################################################################
textfile = open(tfile, "w")
for element in new1:
    textfile.write(element + "\n")
textfile.close()
################################################################
################################################################
